import{w as y,I as q,_ as v,b as u,j as s,B as g,F as C,k as P}from"./index-adccf17c.js";import{u as x}from"./index.esm-f0940a56.js";import{F as N}from"./Form-2653b5a8.js";import{F as r,I as d}from"./FormRow-cfe24e74.js";function T(){const{mutate:n,isLoading:a}=y({mutationFn:({fullName:i,email:l,password:t})=>q({fullName:i,email:l,password:t}),onSuccess:i=>{console.log(i),v.success("User successfuly confirmed! Please verify your email address")}});return{signup:n,isLoading:a}}function j(){var c,p,f,h;const{signup:n,isLoading:a}=T(),{register:i,formState:l,getValues:t,handleSubmit:w,reset:m}=x(),{errors:e}=l;function b({fullName:o,email:S,password:F}){n({fullName:o,email:S,password:F},{onSettled:()=>m()})}return u(N,{onSubmit:w(b),children:[s(r,{label:"Full name",error:(c=e==null?void 0:e.fullName)==null?void 0:c.message,children:s(d,{type:"text",id:"fullName",disabled:a,...i("fullName",{required:"This field is required"})})}),s(r,{label:"Email address",error:(p=e==null?void 0:e.email)==null?void 0:p.message,children:s(d,{type:"email",id:"email",disabled:a,...i("email",{required:"This field is required",pattern:{value:/\S+@\S+\.\S+/,message:"Please provide a valid email address"}})})}),s(r,{label:"Password (min 8 characters)",error:(f=e==null?void 0:e.password)==null?void 0:f.message,children:s(d,{type:"password",id:"password",disabled:a,...i("password",{required:"This field is required",minLength:{value:8,message:"Password needs a minimum of 8 characters"}})})}),s(r,{label:"Repeat password",error:(h=e==null?void 0:e.passwordConfirm)==null?void 0:h.message,children:s(d,{type:"password",id:"passwordConfirm",disabled:a,...i("passwordConfirm",{required:"This field is required",validate:o=>o===t().password||"Passwords need to match"})})}),u(r,{children:[s(g,{variation:"secondary",disabled:a,type:"reset",onClick:m,children:"Cancel"}),s(g,{disabled:a,children:"Create new user"})]})]})}function R(){return u(C,{children:[s(P,{as:"h1",children:"Create a new user"}),s(j,{})]})}export{R as default};
