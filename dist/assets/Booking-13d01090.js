import{s as g,l as h,j as e,S as p,b as o,F as B,k as f,B as t,o as C}from"./index-adccf17c.js";import{u as b,B as v,a as T,b as x}from"./useBooking-13f6c6c4.js";import{R as y}from"./Row-ec799910.js";import{u as D,T as N}from"./useCheckout-b11df3a2.js";import{E as S,M as a,C as j}from"./ConfirmDelete-a7b5b5a7.js";import{u as w}from"./useMoveBack-67aec5f7.js";import{u as H}from"./useDeleteBooking-68193c0c.js";import"./Flag-2fa34f02.js";import"./helpers-28d71949.js";import"./apiBookings-fd5c752d.js";import"./index-bdb4f77d.js";const M=g.div`
  display: flex;
  gap: 2.4rem;
  align-items: center;
`;function O(){const{booking:r,isLoading:d}=b(),{checkout:l,isCheckingOut:u}=D(),{deleteBooking:m,isDeleting:k}=H(),s=w(),c=h();if(d)return e(p,{});if(!r)return e(S,{resource:"Booking"});const{status:n,id:i}=r;return o(B,{children:[o(y,{type:"horizontal",children:[o(M,{children:[o(f,{as:"h1",children:["Booking #",i]}),e(N,{type:{unconfirmed:"blue","checked-in":"green","checked-out":"silver"}[n],children:n.replace("-"," ")})]}),e(v,{onClick:s,children:"← Back"})]}),e(T,{booking:r}),o(x,{children:[n==="unconfirmed"&&e(t,{onClick:()=>c(`/checkin/${i}`),children:"Check in"}),n==="checked-in"&&e(t,{icon:e(C,{}),onClick:()=>l(i),disabled:u,children:"Check out"}),o(a,{children:[e(a.Open,{opens:"delete",children:e(t,{variation:"danger",children:"Delete booking"})}),e(a.Window,{name:"delete",children:e(j,{resourceName:"booking",disabled:k,onConfirm:()=>m(i,{onSettled:()=>c(-1)})})})]}),e(t,{variation:"secondary",onClick:s,children:"Back"})]})]})}function J(){return e(O,{})}export{J as default};
